<!DOCTYPE html>
<html lang="en" data-theme="auto"> <!-- ✅ Added data-theme -->
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gränslandet – BIM Consultancy</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- ✅ Theme toggle button -->
  <button id="theme-toggle" aria-label="Toggle dark/light mode">☀️</button>

  <header>
    <h1>GRÄNSLANDET</h1>
    <p class="subtitle">Konsulttjänster inom BIM för arkitekter</p>
  </header>

  <section class="intro">
    <p>
        <b>Gränslandet AB</b> är ett Stockholmsbaserat enmanskonsultbolag inom BIM som verkar i just <b><i>gränslandet</i></b> mellan
        arkitektur och informationsteknik — och hjälper företag och projekt att överbrygga klyftan mellan
        designidé och utförande.
    </p>
  </section>

  <!-- ✅ Each button now links to a section -->
  <section class="services">
    <a class="service-btn" href="#projektering">
        <div class="icon">📐</div>
        <h3>Projektering</h3>
    </a>
    <a class="service-btn" href="#bim-ansvarig">
        <div class="icon">🚨</div>
        <h3>BIM-ansvarig</h3>
    </a>      
    <a class="service-btn" href="#utveckling-utbildning">
      <div class="icon">👨‍🔬</div>
      <h3>Utveckling/utbildning</h3>
    </a>
    <a class="service-btn" href="#visualisering">
      <div class="icon">📊</div>
      <h3>Visualisering</h3>
    </a>
    <a class="service-btn" href="#skanning-punktmoln">
        <div class="icon">☁️</div>
        <h3>Skanning & punktmoln</h3>
      </a>    
  </section>

  <section class="scroll-hint">
    <p>(skrolla ner...)</p>
    <div class="arrow">↓</div>
  </section>

  <!-- ✅ Added IDs for scroll targets -->
  <section class="details">

    <h2 id="projektering">Projektering</h2>
    <p>
      Erbjuder stöd i projektering i allt från enklare bygglov till avancerad dörrprojektering i bygghandlingsskeden.
    </p>

    <h2 id="bim-ansvarig">BIM-ansvarig</h2>
    <p>
      Hantering av komplexa Revit-modeller och ansvarig för BIM-leverans i projektets samtliga skeden. Hantering och implementering av content i projektet.
    </p>    

    <h2 id="utveckling-utbildning">Utveckling/utbildning</h2>
    <p>
      Hjälper till att utveckla företagets arbetsmetodik för programvaror som Revit. Utveckling och tillämpning av script för att minska frustration och ökad produktivitet för arkitekter. Utbildning inom Revit, Unity och Unreal Engine för arkitekter.
    </p>

    <h2 id="visualisering">Visualisering</h2>
    <p>
      Visualisering av projektets data genom olika BI-verktyg och Speckle. Realtidsvisualisering av modeller genom Unity och Unreal Engine.
    </p>

    <h2 id="skanning-punktmoln">Skanning & punktmoln</h2>
    <p>
      Implementerar arbetsflöden för modellering efter punktmoln. Skapar 3D-modeller och punktmoln från drönarflygningar för visualisering.
    </p>    
  </section>

  <section class="referenser">
    <h2>Referenser <b>(WIP)</b> </h2>
    <ul>
      <li>Project Alpha – </li>
      <li>Project Beta – </li>
      <li>Project Gamma – </li>
    </ul>
  </section>

  <footer>
    <p>Contact: <a href="mailto:daniel.runebjork@gmail.se">daniel.runebjork@gmail.se</a></p>
    <p><a href="#top">Back to top ↑</a></p>
  </footer>

  <!-- ✅ Added script for smooth scroll + theme toggle -->
  <script>
    // Smooth scroll effect
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        const targetId = this.getAttribute("href");
        const targetEl = document.querySelector(targetId);
        if (targetEl) {
          e.preventDefault();
          targetEl.scrollIntoView({ behavior: "smooth" });
        }
      });
    });

    // Theme toggle logic
    const html = document.documentElement;
    const toggleBtn = document.getElementById("theme-toggle");

    function setTheme(theme) {
      html.setAttribute("data-theme", theme);
      localStorage.setItem("theme", theme);
      toggleBtn.textContent = theme === "dark" ? "🌙" : "☀️";
    }

    // Initialize theme from localStorage or system preference
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) {
      setTheme(savedTheme);
    } else {
      const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      setTheme(prefersDark ? "dark" : "light");
    }

    // Toggle when clicking the button
    toggleBtn.addEventListener("click", () => {
      const current = html.getAttribute("data-theme");
      setTheme(current === "dark" ? "light" : "dark");
    });
  </script>

<script>
    const scrollHint = document.querySelector(".scroll-hint");
  
    // Fade out scroll-hint while scrolling
    window.addEventListener("scroll", () => {
      const fadeStart = 100;
      const fadeEnd = 300;
      const scrollY = window.scrollY;
  
      if (scrollY < fadeStart) {
        scrollHint.style.opacity = 1;
      } else if (scrollY > fadeEnd) {
        scrollHint.style.opacity = 0;
      } else {
        scrollHint.style.opacity =
          1 - (scrollY - fadeStart) / (fadeEnd - fadeStart);
      }
    });
  
    // Fade in headers + paragraphs + reference list
    const fadeElements = document.querySelectorAll(
      ".details h2, .details p, .referenser h2, .referenser ul"
    );
  
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");
          }
        });
      },
      { threshold: 0.2 }
    );
  
    fadeElements.forEach((el) => observer.observe(el));
  </script>
  
</body>
</html>
